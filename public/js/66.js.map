{"version":3,"sources":["webpack:///./resources/js/views/back/app/tasks/task-comment-editor.vue?fb13","webpack:///./resources/js/components/textarea-expandable/textarea-expandable.vue?b4b1","webpack:///resources/js/components/textarea-expandable/textarea-expandable.vue","webpack:///./resources/js/components/textarea-expandable/textarea-expandable.vue","webpack:///./resources/js/components/textarea-expandable/textarea-expandable.vue?8c28","webpack:///./resources/js/views/back/app/tasks/task-comment-editor.vue?6993","webpack:///resources/js/views/back/app/tasks/task-comment-editor.vue","webpack:///./resources/js/views/back/app/tasks/task-comment-editor.vue"],"names":["_vm","this","_h","$createElement","_self","_c","directives","name","rawName","value","expression","staticClass","domProps","on","$event","target","composing","content","autosize","$emit","attrs","$trans","model","callback","$$v","_v","uploading","submit","_s","ref"],"mappings":"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","file":"js/66.js?id=ae5b3a5aa56213c2018c","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-col rounded-lg shadow-sm border border-gray-300\"},[_c('v-textarea-exapandable',{staticClass:\"border-none shadow-none focus:outline-none focus:shadow-none rounded-lg\",attrs:{\"placeholder\":_vm.$trans('placeholders.write-something')},on:{\"input\":function($event){return _vm.$emit('input', _vm.content)}},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mt-2 px-3 pb-3 flex items-center justify-between\"},[_c('div',[_c('button',{staticClass:\"btn btn-sm btn-indigo\",attrs:{\"type\":\"button\",\"disabled\":!_vm.content || _vm.uploading},on:{\"click\":function($event){return _vm.submit()}}},[_c('svg',{staticClass:\"w-3 h-3 mr-1.5 fill-current\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"d\":\"M0 0l20 10L0 20V0zm0 8v4l10-2L0 8z\"}})]),_vm._v(\"\\n                \"+_vm._s(_vm.$trans('labels.send'))+\"\\n            \")])]),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"btn-group shadow-none\"},[_c('button',{ref:\"btn_attach\",staticClass:\"btn btn-sm btn-flat\",attrs:{\"type\":\"button\"}},[_c('svg',{staticClass:\"w-4 h-4\",attrs:{\"viewBox\":\"0 0 20 20\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M15 3H7a7 7 0 1 0 0 14h8v-2H7A5 5 0 0 1 7 5h8a3 3 0 0 1 0 6H7a1 1 0 0 1 0-2h8V7H7a3 3 0 1 0 0 6h8a5 5 0 0 0 0-10z\"}})])])])])]),_vm._v(\" \"),_c('div',{ref:\"dz\",staticClass:\"flex flex-col\"}),_vm._v(\" \"),_c('script',{ref:\"attachment\",attrs:{\"type\":\"text/x-template\"}},[_vm._v(\"\\n        <div class=\\\"flex flex-col\\\">\\n            <div class=\\\"pl-3 pr-4 py-3 flex items-center justify-between text-sm leading-5\\\">\\n                <div class=\\\"w-0 flex-1 flex items-center\\\">\\n                    <svg class=\\\"flex-shrink-0 h-5 w-5 text-gray-400\\\" fill=\\\"currentColor\\\" viewBox=\\\"0 0 20 20\\\">\\n                        <path fill-rule=\\\"evenodd\\\" d=\\\"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z\\\" clip-rule=\\\"evenodd\\\"></path>\\n                    </svg>\\n\\n                    <span class=\\\"ml-2 truncate\\\" data-dz-name></span>\\n                </div>\\n\\n                <div class=\\\"ml-4 flex-shrink-0\\\">\\n                    <button type=\\\"button\\\" class=\\\"btn btn-flat btn-xs\\\" data-dz-remove>\\n                        <svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"w-3 h-3 fill-current\\\">\\n                            <path d=\\\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\\\"></path>\\n                        </svg>\\n                    </button>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"dz-progress flex w-full h-1 rounded-b-lg px-4 mb-4\\\">\\n                <span class=\\\"dz-upload block bg-indigo-200\\\" data-dz-uploadprogress></span>\\n            </div>\\n        </div>\\n    \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textarea-expandable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textarea-expandable.vue?vue&type=script&lang=js&\"","<template>\r\n    <textarea class=\"form-textarea w-full block resize-none\" v-model=\"content\" @input=\"[autosize(), $emit('input', content)]\"></textarea>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        props: {\r\n            value: {\r\n                type: String,\r\n                default: null\r\n            }\r\n        },\r\n\r\n        data() {\r\n            return {\r\n                content: this.value\r\n            }\r\n        },\r\n\r\n        mounted() {\r\n            this.autosize();\r\n        },\r\n\r\n        watch: {\r\n            value(val) {\r\n                this.content = val;\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            autosize() {\r\n                this.$el.style.height = 'inherit';\r\n\r\n                let computed = window.getComputedStyle(this.$el);\r\n\r\n                let height = parseInt(computed.getPropertyValue('border-top-width'), 10)\r\n                    + parseInt(computed.getPropertyValue('padding-top'), 10)\r\n                    + this.$el.scrollHeight\r\n                    + parseInt(computed.getPropertyValue('padding-bottom'), 10)\r\n                    + parseInt(computed.getPropertyValue('border-bottom-width'), 10);\r\n\r\n                this.$el.style.height = height + 'px';\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import { render, staticRenderFns } from \"./textarea-expandable.vue?vue&type=template&id=20e9555f&\"\nimport script from \"./textarea-expandable.vue?vue&type=script&lang=js&\"\nexport * from \"./textarea-expandable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],staticClass:\"form-textarea w-full block resize-none\",domProps:{\"value\":(_vm.content)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.content=$event.target.value},function($event){[_vm.autosize(), _vm.$emit('input', _vm.content)]}]}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task-comment-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task-comment-editor.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"flex flex-col rounded-lg shadow-sm border border-gray-300\">\n        <v-textarea-exapandable\n            class=\"border-none shadow-none focus:outline-none focus:shadow-none rounded-lg\"\n            :placeholder=\"$trans('placeholders.write-something')\"\n            v-model=\"content\"\n            @input=\"$emit('input', content)\"\n        />\n\n        <div class=\"mt-2 px-3 pb-3 flex items-center justify-between\">\n            <div>\n                <button type=\"button\" class=\"btn btn-sm btn-indigo\" :disabled=\"!content || uploading\" @click=\"submit()\">\n                    <svg class=\"w-3 h-3 mr-1.5 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                        <path d=\"M0 0l20 10L0 20V0zm0 8v4l10-2L0 8z\"/>\n                    </svg>\n                    {{ $trans('labels.send') }}\n                </button>\n            </div>\n\n            <div>\n                <span class=\"btn-group shadow-none\">\n                    <button type=\"button\" class=\"btn btn-sm btn-flat\" ref=\"btn_attach\">\n                        <svg class=\"w-4 h-4\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                            <path d=\"M15 3H7a7 7 0 1 0 0 14h8v-2H7A5 5 0 0 1 7 5h8a3 3 0 0 1 0 6H7a1 1 0 0 1 0-2h8V7H7a3 3 0 1 0 0 6h8a5 5 0 0 0 0-10z\"/>\n                        </svg>\n                    </button>\n                </span>\n            </div>\n        </div>\n\n        <div class=\"flex flex-col\" ref=\"dz\"></div>\n\n        <!-- Attachment Preview Template -->\n        <script type=\"text/x-template\" ref=\"attachment\">\n            <div class=\"flex flex-col\">\n                <div class=\"pl-3 pr-4 py-3 flex items-center justify-between text-sm leading-5\">\n                    <div class=\"w-0 flex-1 flex items-center\">\n                        <svg class=\"flex-shrink-0 h-5 w-5 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <path fill-rule=\"evenodd\" d=\"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z\" clip-rule=\"evenodd\"></path>\n                        </svg>\n\n                        <span class=\"ml-2 truncate\" data-dz-name></span>\n                    </div>\n\n                    <div class=\"ml-4 flex-shrink-0\">\n                        <button type=\"button\" class=\"btn btn-flat btn-xs\" data-dz-remove>\n                            <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" class=\"w-3 h-3 fill-current\">\n                                <path d=\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"></path>\n                            </svg>\n                        </button>\n                    </div>\n                </div>\n\n                <div class=\"dz-progress flex w-full h-1 rounded-b-lg px-4 mb-4\">\n                    <span class=\"dz-upload block bg-indigo-200\" data-dz-uploadprogress></span>\n                </div>\n            </div>\n        </script>\n    </div>\n</template>\n\n<script>\n    import VTextareaExapandable from '@/components/textarea-expandable'\n    import Dropzone from 'dropzone'\n\n    export default {\n        components: {\n            VTextareaExapandable\n        },\n\n        props: {\n            value: {\n                type: String,\n                default: null\n            },\n            taskUuid: {\n                type: String,\n                required: true\n            },\n            projectUuid: {\n                type: String,\n                required: true\n            }\n        },\n\n        data() {\n            return {\n                content: this.value,\n                attachments: [],\n                dropzone: null,\n                uploading: false\n            }\n        },\n\n        watch: {\n            value(val) {\n                this.content = val;\n            }\n        },\n\n        mounted() {\n            this.dropzone = new Dropzone(this.$refs.dz, {\n                clickable: this.$refs.btn_attach,\n                headers: {\n                    'X-CSRF-TOKEN': document.head.querySelector('meta[name=\"csrf-token\"]').content\n                },\n                url: route('app:project.task.attachments.store', {\n                    project: this.projectUuid,\n                    task: this.taskUuid\n                }),\n                previewTemplate: this.$refs.attachment.innerHTML\n            });\n\n            this.dropzone.on('sending', (file, xhr, formData) => {\n                this.uploading = true;\n                formData.append('_token', document.head.querySelector('meta[name=\"csrf-token\"]').content)\n                formData.append('uuid', file.upload.uuid);\n            });\n\n            this.dropzone.on('queuecomplete', () => {\n                this.uploading = false;\n            });\n\n            this.dropzone.on('removedfile', (file) => {\n                this.attachments = this.attachments.filter(attachment => {\n                    return file.upload.uuid !== attachment;\n                });\n            });\n\n            this.dropzone.on('success', (file, response) => {\n                file.previewElement.querySelector(\".dz-progress\").remove();\n                this.attachments.push(response.uuid);\n            });\n        },\n\n        methods: {\n            submit() {\n                this.$inertia.post(route('app:project.task.comments.store', {\n                    project: this.projectUuid,\n                    task: this.taskUuid\n                }), {\n                    content: this.content,\n                    attachments: this.attachments\n                }).then(() => {\n                    this.$emit('submitted');\n                    this.reset();\n                })\n            },\n\n            reset() {\n                this.content = '';\n                this.attachments = [];\n                this.dropzone.removeAllFiles(true);\n            }\n        }\n    }\n</script>\n","import { render, staticRenderFns } from \"./task-comment-editor.vue?vue&type=template&id=423452b2&\"\nimport script from \"./task-comment-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./task-comment-editor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}